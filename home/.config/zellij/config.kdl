// Core Settings
default_mode "locked"
default_layout "preset-empty"
mouse_mode true
copy_on_select true
session_serialization false
show_startup_tips false
show_release_notes false
// UI & Appearance
pane_frames false
styled_underlines true
ui {
    pane_frames {
        rounded_corners true
        hide_session_name false
    }
}
theme "nordic"
themes {
    nordic {
        fg "#D8DEE9"
        bg "#2E3440"
        black "#191D24"
        red "#BF616A"
        green "#8FBCBB"
        yellow "#EBCB8B"
        blue "#5E81AC"
        magenta "#B48EAD"
        cyan "#8FBCBB"
        white "#E5E9F0"
        orange "#D08770"
    }
}
// Keybindings
keybinds clear-defaults=true {
    shared_except "locked" {
        bind "Esc" {
            SwitchToMode "locked"
        }
        bind "Ctrl Space" {
            Write 0
            SwitchToMode "locked"
        }
    }
    locked {
        bind "Ctrl Space" {
            SwitchToMode "normal"
        }
    }
    normal {
        // Escape hatches
        bind "a" "i" "o" "Space" {
            SwitchToMode "locked"
        }
        // Tab management
        bind "c" {
            NewTab {
                cwd "~"
            }
            SwitchToMode "locked"
        }
        bind "C" {
            NewTab {
                cwd "~"
            }
        }
        bind "Shift Tab" {
            GoToPreviousTab
        }
        bind "Tab" {
            GoToNextTab
        }
        bind "," {
            SwitchToMode "renametab"
            TabNameInput 0
        }
        // Pane creation
        bind "s" "v" {
            NewPane
            SwitchToMode "locked"
        }
        bind "S" "V" {
            NewPane
        }
        // Pane navigation
        bind "Ctrl h" "h" {
            MoveFocus "left"
        }
        bind "Ctrl j" "j" {
            MoveFocus "down"
        }
        bind "Ctrl k" "k" {
            MoveFocus "up"
        }
        bind "Ctrl l" "l" {
            MoveFocus "right"
        }
        // Pane resize
        bind "Alt h" {
            Resize "Left"
        }
        bind "Alt j" {
            Resize "Down"
        }
        bind "Alt k" {
            Resize "Up"
        }
        bind "Alt l" {
            Resize "Right"
        }
        // Pane toggles
        bind "f" {
            ToggleFocusFullscreen
            SwitchToMode "locked"
        }
        bind "F" {
            ToggleFocusFullscreen
        }
        bind "p" {
            ToggleFloatingPanes
            SwitchToMode "locked"
        }
        bind "P" {
            ToggleFloatingPanes
        }
        bind "e" {
            TogglePaneEmbedOrFloating
            SwitchToMode "locked"
        }
        bind "E" {
            TogglePaneEmbedOrFloating
        }
        // Session management
        bind "w" {
            LaunchPlugin "zellij:session-manager" {
                floating true
            }
            SwitchToMode "locked"
        }
        bind "Ctrl q" {
            Detach
        }
        bind "x" "q" {
            CloseFocus
            SwitchToMode "locked"
        }
        bind "X" "Q" {
            CloseFocus
        }
        // Search
        bind "?" {
            SwitchToMode "entersearch"
        }
        bind "/" {
            SwitchToMode "entersearch"
        }
        // Custom workflows
        bind "d" {
            NewTab {
                cwd "~"
                layout "workflow-dev"
            }
            SwitchToMode "locked"
        }
    }
    renametab {
        bind "esc" {
            UndoRenameTab
            SwitchToMode "locked"
        }
        bind "enter" {
            SwitchToMode "locked"
        }
    }
    entersearch {
        bind "esc" {
            SwitchToMode "normal"
        }
        bind "enter" {
            SwitchToMode "search"
        }
    }
    search {
        bind "n" {
            Search "down"
        }
        bind "N" {
            Search "up"
        }
        bind "Ctrl d" {
            HalfPageScrollDown
        }
        bind "Ctrl u" {
            HalfPageScrollUp
        }
    }
}

